# ==============================================
# BACKEND CONFIGURATION
# ==============================================
# Note: OAuth secrets et Stripe sont chargÃ©s depuis Supabase Vault
# Ces variables sont uniquement pour le fallback en dev

# Server
NODE_ENV=development
PORT=3001
HOST=localhost

# Allowed Origins (CORS)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ==============================================
# SUPABASE (REQUIS)
# ==============================================
SUPABASE_URL=https://rijjtngbgahxdjflfyhi.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ==============================================
# JWT (REQUIS)
# ==============================================
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRES_IN=7d

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# LOGGING
# ==============================================
LOG_LEVEL=debug
LOG_FILE=./logs/backend.log

# ==============================================
# FRONTEND URL
# ==============================================
FRONTEND_URL=http://localhost:5173

# ==============================================
# EDGE FUNCTION AUTHENTICATION (REQUIS EN PROD)
# ==============================================
# ðŸ”’ SECURITY: Shared secret for backend-to-edge communication
# Generate with: openssl rand -hex 32
# Must match BACKEND_SHARED_SECRET in Supabase Edge Function secrets
BACKEND_SHARED_SECRET=

# ==============================================
# CONTENT INSIGHTS (Optionnel)
# ==============================================
# Set to 'true' to allow graceful degradation if content_insights table is missing
# In production, leave unset to get 503 errors if table is missing (alerts ops)
# CONTENT_INSIGHTS_OPTIONAL=true

# ==============================================
# FALLBACK SECRETS (Optionnel - ChargÃ©s depuis Vault)
# ==============================================
# Ces variables sont utilisÃ©es uniquement si Supabase Vault Ã©choue
# En production, configurez-les dans Supabase Vault

# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback

# NOTION_CLIENT_ID=
# NOTION_CLIENT_SECRET=
# NOTION_REDIRECT_URI=http://localhost:3001/api/auth/notion/callback

# STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET=
# STRIPE_PRICE_MONTHLY=
# STRIPE_PRICE_ANNUAL=

# TOKEN_ENCRYPTION_KEY=
