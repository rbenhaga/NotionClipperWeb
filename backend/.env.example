# ==============================================
# BACKEND VPS CONFIGURATION
# ==============================================

# Server
NODE_ENV=production
PORT=3001
HOST=0.0.0.0

# Allowed Origins (CORS)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://your-domain.com

# ==============================================
# SUPABASE - REQUIRED
# Get these from: https://supabase.com/dashboard/project/rijjtngbgahxdjflfyhi/settings/api
# ==============================================
SUPABASE_URL=https://rijjtngbgahxdjflfyhi.supabase.co
SUPABASE_ANON_KEY=
# IMPORTANT: Copy your service_role key from Supabase Dashboard
SUPABASE_SERVICE_ROLE_KEY=

# ==============================================
# OAUTH SECRETS
# These are loaded from Supabase Vault at startup
# Only fill these if you want local fallback values
# Configure them in Vault with: supabase secrets set KEY=value
# See VAULT_SETUP.md for detailed instructions
# ==============================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback

NOTION_CLIENT_ID=
NOTION_CLIENT_SECRET=
NOTION_REDIRECT_URI=http://localhost:3001/api/auth/notion/callback

# ==============================================
# STRIPE
# Loaded from Supabase Vault at startup
# ==============================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# Price IDs (create these in Stripe Dashboard)
STRIPE_PRICE_MONTHLY=price_xxx  # 2.99€/month with 14-day trial
STRIPE_PRICE_ANNUAL=price_xxx   # 28.68€/year (2.39€/month, -20%)
STRIPE_PRICE_ONETIME=price_xxx  # One-time purchase (TBD price)

# ==============================================
# JWT - REQUIRED
# ==============================================
# Generate with: openssl rand -base64 32
JWT_SECRET=
JWT_EXPIRES_IN=7d

# ==============================================
# TOKEN ENCRYPTION
# ==============================================
# Generate with: openssl rand -base64 32
# Should match the key used in NotionClipper app
TOKEN_ENCRYPTION_KEY=

# ==============================================
# RATE LIMITING
# ==============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# LOGGING
# ==============================================
LOG_LEVEL=info
LOG_FILE=./logs/backend.log
