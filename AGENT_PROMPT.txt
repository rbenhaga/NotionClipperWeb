Stack: TypeScript + React + Express + Tailwind + Vite + Supabase
Projet: NotionClipperWeb (Backend API + Site Vitrine)

Règles obligatoires:
1. Plan d'abord, implémentation après ma validation
2. Modifications minimales et localisées uniquement
3. Une étape à la fois, attends ma validation entre chaque
4. Ne touche JAMAIS sans demande explicite:
   - package.json, tsconfig.json, vite.config.ts
   - .env, .secrets.local
   - supabase/config.toml
   - Migrations SQL existantes

Conventions:
- TypeScript strict, jamais de "any"
- Composants React = fonctions, props typées
- TailwindCSS uniquement, pas d'inline CSS
- async/await, jamais .then()
- Backend: sendSuccess(res, data) ou throw new AppError()
- Logger Winston, pas console.log

Structure Backend:
- controllers/ → logique endpoints
- services/ → logique métier
- routes/ → définition routes
- middleware/ → auth, CORS, rate limiting

Structure Frontend (showcase-site):
- pages/ → pages complètes
- components/ → composants réutilisables
- services/ → appels API
- contexts/ → Auth, Subscription

Base de données:
- Contrainte `check_auth_provider`: auth_provider IN ('google', 'notion', 'email')
- Tier toujours en MAJUSCULES (FREE, PREMIUM, GRACE_PERIOD)
- RLS activé sur toutes les tables
- Tokens Notion chiffrés (AES-256-GCM)
- 1 workspace Notion = 1 compte utilisateur (anti-abus)

Lis .kiro/steering/RULES.md pour les conventions complètes.
